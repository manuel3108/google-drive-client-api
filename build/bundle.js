var app=function(){"use strict";function n(){}function t(n){return n()}function e(){return Object.create(null)}function o(n){n.forEach(t)}function i(n){return"function"==typeof n}function r(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function c(n,t){n.appendChild(t)}function u(n,t,e){n.insertBefore(t,e||null)}function f(n){n.parentNode.removeChild(n)}function l(n){return document.createElement(n)}function a(n){return document.createTextNode(n)}function s(){return a(" ")}function d(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function p(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}let h;function g(n){h=n}const y=[],m=[],v=[],w=[],b=Promise.resolve();let $=!1;function x(n){v.push(n)}let j=!1;const T=new Set;function k(){if(!j){j=!0;do{for(let n=0;n<y.length;n+=1){const t=y[n];g(t),E(t.$$)}for(y.length=0;m.length;)m.pop()();for(let n=0;n<v.length;n+=1){const t=v[n];T.has(t)||(T.add(t),t())}v.length=0}while(y.length);for(;w.length;)w.pop()();$=!1,j=!1,T.clear()}}function E(n){if(null!==n.fragment){n.update(),o(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(x)}}const C=new Set;function _(n,t){-1===n.$$.dirty[0]&&(y.push(n),$||($=!0,b.then(k)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function A(r,c,u,l,a,s,d=[-1]){const p=h;g(r);const y=c.props||{},m=r.$$={fragment:null,ctx:null,props:s,update:n,not_equal:a,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:e(),dirty:d};let v=!1;if(m.ctx=u?u(r,y,(n,t,...e)=>{const o=e.length?e[0]:t;return m.ctx&&a(m.ctx[n],m.ctx[n]=o)&&(m.bound[n]&&m.bound[n](o),v&&_(r,n)),t}):[],m.update(),v=!0,o(m.before_update),m.fragment=!!l&&l(m.ctx),c.target){if(c.hydrate){const n=function(n){return Array.from(n.childNodes)}(c.target);m.fragment&&m.fragment.l(n),n.forEach(f)}else m.fragment&&m.fragment.c();c.intro&&((w=r.$$.fragment)&&w.i&&(C.delete(w),w.i(b))),function(n,e,r){const{fragment:c,on_mount:u,on_destroy:f,after_update:l}=n.$$;c&&c.m(e,r),x(()=>{const e=u.map(t).filter(i);f?f.push(...e):o(e),n.$$.on_mount=[]}),l.forEach(x)}(r,c.target,c.anchor),k()}var w,b;g(p)}var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var S=function(n,t,e){return n(e={path:t,exports:{},require:function(n,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&e.path)}},e.exports),e.exports}((function(n){
/*!
      * $script.js JS loader & dependency manager
      * https://github.com/ded/script.js
      * (c) Dustin Diaz 2014 | License MIT
      */
!function(t,e){n.exports?n.exports=e():this.$script=e()}(0,(function(){var n,t,e=document,o=e.getElementsByTagName("head")[0],i={},r={},c={};function u(n,t){for(var e=0,o=n.length;e<o;++e)if(!t(n[e]))return!1;return 1}function f(n,t){u(n,(function(n){return t(n),1}))}function l(t,e,o){t=t.push?t:[t];var s=e&&e.call,d=s?e:o,p=s?t.join(""):e,h=t.length;function g(n){return n.call?n():i[n]}function y(){if(!--h)for(var n in i[p]=1,d&&d(),r)u(n.split("|"),g)&&!f(r[n],g)&&(r[n]=[])}return setTimeout((function(){f(t,(function t(e,o){return null===e?y():(o||/^https?:\/\//.test(e)||!n||(e=-1===e.indexOf(".js")?n+e+".js":n+e),c[e]?2==c[e]?y():setTimeout((function(){t(e,!0)}),0):(c[e]=1,void a(e,y)))}))}),0),l}function a(n,i){var r,u=e.createElement("script");u.onload=u.onerror=u.onreadystatechange=function(){u.readyState&&!/^c|loade/.test(u.readyState)||r||(u.onload=u.onreadystatechange=null,r=1,c[n]=2,i())},u.async=1,u.src=t?n+(-1===n.indexOf("?")?"?":"&")+t:n,o.insertBefore(u,o.lastChild)}return l.get=a,l.order=function(n,t,e){!function o(i){i=n.shift(),n.length?l(i,o):l(i,t,e)}()},l.path=function(t){n=t},l.urlArgs=function(n){t=n},l.ready=function(n,t,e){n=n.push?n:[n];var o,c=[];return!f(n,(function(n){i[n]||c.push(n)}))&&u(n,(function(n){return i[n]}))?t():(o=n.join("|"),r[o]=r[o]||[],r[o].push(t),e&&e(c)),l},l.done=function(n){l([null],n)},l}))})),L={task:void 0,next:null},q=L,D=!1,M=void 0,N=!1;function F(){for(;L.next;){var n=(L=L.next).task;L.task=void 0;var t=L.domain;t&&(L.domain=void 0,t.enter());try{n()}catch(n){if(N)throw t&&t.exit(),setTimeout(F,0),t&&t.enter(),n;setTimeout((function(){throw n}),0)}t&&t.exit()}D=!1}if("undefined"!=typeof process&&process.nextTick)N=!0,M=function(){process.nextTick(F)};else if("function"==typeof setImmediate)M="undefined"!=typeof window?setImmediate.bind(window,F):function(){setImmediate(F)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel;O.port1.onmessage=F,M=function(){O.port2.postMessage(0)}}else M=function(){setTimeout(F,0)};var P=function(n){q=q.next={task:n,domain:N&&process.domain,next:null},D||(D=!0,M())},R=function(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");var t=null,e=null,o=[],i=this;function r(n){null!==t?P((function(){var o=t?n.onFulfilled:n.onRejected;if(null!==o){var i;try{i=o(e)}catch(t){return void n.reject(t)}n.resolve(i)}else(t?n.resolve:n.reject)(e)})):o.push(n)}function c(n){t=!1,e=n,u()}function u(){for(var n=0,t=o.length;n<t;n++)r(o[n]);o=null}this.then=function(n,t){return new i.constructor((function(e,o){r(new B(n,t,e,o))}))},H(n,(function n(o){try{if(o===i)throw new TypeError("A promise cannot be resolved with itself.");if(o&&("object"==typeof o||"function"==typeof o)){var r=o.then;if("function"==typeof r)return void H(r.bind(o),n,c)}t=!0,e=o,u()}catch(n){c(n)}}),c)};function B(n,t,e,o){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.resolve=e,this.reject=o}function H(n,t,e){var o=!1;try{n((function(n){o||(o=!0,t(n))}),(function(n){o||(o=!0,e(n))}))}catch(n){if(o)return;o=!0,e(n)}}function X(n){this.then=function(t){return"function"!=typeof t?this:new R((function(e,o){P((function(){try{e(t(n))}catch(n){o(n)}}))}))}}R.prototype.done=function(n,t){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,(function(n){P((function(){throw n}))}))},X.prototype=R.prototype;var z=new X(!0),U=new X(!1),Y=new X(null),G=new X(void 0),J=new X(0),K=new X("");R.resolve=function(n){if(n instanceof R)return n;if(null===n)return Y;if(void 0===n)return G;if(!0===n)return z;if(!1===n)return U;if(0===n)return J;if(""===n)return K;if("object"==typeof n||"function"==typeof n)try{var t=n.then;if("function"==typeof t)return new R(t.bind(n))}catch(n){return new R((function(t,e){e(n)}))}return new X(n)},R.all=function(n){var t=Array.prototype.slice.call(n);return new R((function(n,e){if(0===t.length)return n([]);var o=t.length;function i(r,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var u=c.then;if("function"==typeof u)return void u.call(c,(function(n){i(r,n)}),e)}t[r]=c,0==--o&&n(t)}catch(n){e(n)}}for(var r=0;r<t.length;r++)i(r,t[r])}))},R.reject=function(n){return new R((function(t,e){e(n)}))},R.race=function(n){return new R((function(t,e){n.forEach((function(n){R.resolve(n).then(t,e)}))}))},R.prototype.catch=function(n){return this.then(null,n)},R.denodeify=function(n,t){return t=t||1/0,function(){var e=this,o=Array.prototype.slice.call(arguments);return new R((function(i,r){for(;o.length&&o.length>t;)o.pop();o.push((function(n,t){n?r(n):i(t)}));var c=n.apply(e,o);!c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.then||i(c)}))}},R.nodeify=function(n){return function(){var t=Array.prototype.slice.call(arguments),e="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return n.apply(this,arguments).nodeify(e,o)}catch(n){if(null==e)return new R((function(t,e){e(n)}));P((function(){e.call(o,n)}))}}},R.prototype.nodeify=function(n,t){if("function"!=typeof n)return this;this.then((function(e){P((function(){n.call(t,null,e)}))}),(function(e){P((function(){n.call(t,e)}))}))};var Q=R,V=[];function W(n,t){n(I.gapi),t&&t(I.gapi)}I.$$onClientLoad=function(){for(var n=0,t=V.length;n<t;n++)W.apply(void 0,V[n])};let Z;var nn=(n,t,e)=>new Promise(o=>{var i;i=i=>{Z=i,Z.load("client:auth2",()=>{Z.client.init({clientId:n,discoveryDocs:t,scope:e}).then(()=>{Z.client.load("drive","v3",()=>{o()})})})},new Q((function(n,t){I.gapi?W(n,i):(V.push([n,i]),1==V.length&&S("https://apis.google.com/js/client.js?onload=$$onClientLoad"))}))}),tn=()=>new Promise(n=>{Z.auth2.getAuthInstance().signIn().then(()=>{n()})}),en=()=>Z.auth2.getAuthInstance().isSignedIn.get(),on=()=>Z.client.drive.files.list({spaces:"appDataFolder"}),rn=n=>Z.client.drive.files.create({resource:{name:n,parents:["appDataFolder"]},fields:"id"}),cn=(n,t)=>{var e=new XMLHttpRequest;e.responseType="json",e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&console.log(e.response)},e.open("PATCH","https://www.googleapis.com/upload/drive/v3/files/"+n+"?uploadType=media"),e.setRequestHeader("Authorization","Bearer "+Z.auth.getToken().access_token),e.send(t)},un=n=>Z.client.drive.files.get({fileId:n,alt:"media"}),fn=n=>Z.client.drive.files.delete({fileId:n});function ln(n,t,e){const o=n.slice();return o[13]=t[e],o[15]=e,o}function an(n){let t,e,o,i,r,c,h,g,y,m,v,w,b,$,x=n[13].id+"",j=n[13].name+"",T=n[13].content+"";function k(...t){return n[12](n[13],...t)}return{c(){t=a("File "),e=a(n[15]),o=a(": id: "),i=a(x),r=a(" name: "),c=a(j),h=s(),g=l("button"),g.textContent="Delete",y=a("\n\tContent: "),m=a(T),v=s(),w=l("br")},m(n,f){u(n,t,f),u(n,e,f),u(n,o,f),u(n,i,f),u(n,r,f),u(n,c,f),u(n,h,f),u(n,g,f),u(n,y,f),u(n,m,f),u(n,v,f),u(n,w,f),b||($=d(g,"click",k),b=!0)},p(t,e){n=t,32&e&&x!==(x=n[13].id+"")&&p(i,x),32&e&&j!==(j=n[13].name+"")&&p(c,j),32&e&&T!==(T=n[13].content+"")&&p(m,T)},d(n){n&&f(t),n&&f(e),n&&f(o),n&&f(i),n&&f(r),n&&f(c),n&&f(h),n&&f(g),n&&f(y),n&&f(m),n&&f(v),n&&f(w),b=!1,$()}}}function sn(t){let e,i,r,h,g,y,m,v,w,b,$,x,j,T,k,E,C,_,A,I,S,L,q,D,M=t[5],N=[];for(let n=0;n<M.length;n+=1)N[n]=an(ln(t,M,n));return{c(){e=a("1. Load the drive api: "),i=l("button"),r=a(t[0]),h=l("br"),g=a("\n2. Check login status: "),y=l("button"),m=a(t[1]),v=l("br"),w=a("\n3. if not logged in: login: "),b=l("button"),$=a(t[2]),x=l("br"),j=a("\n4. upload file: "),T=l("button"),k=a(t[3]),E=l("br"),C=a("\n5. list files: "),_=l("button"),A=a(t[4]),I=l("br"),S=s();for(let n=0;n<N.length;n+=1)N[n].c();L=a("")},m(n,o){u(n,e,o),u(n,i,o),c(i,r),u(n,h,o),u(n,g,o),u(n,y,o),c(y,m),u(n,v,o),u(n,w,o),u(n,b,o),c(b,$),u(n,x,o),u(n,j,o),u(n,T,o),c(T,k),u(n,E,o),u(n,C,o),u(n,_,o),c(_,A),u(n,I,o),u(n,S,o);for(let t=0;t<N.length;t+=1)N[t].m(n,o);u(n,L,o),q||(D=[d(i,"click",t[6]),d(y,"click",t[7]),d(b,"click",t[8]),d(T,"click",t[9]),d(_,"click",t[10])],q=!0)},p(n,[t]){if(1&t&&p(r,n[0]),2&t&&p(m,n[1]),4&t&&p($,n[2]),8&t&&p(k,n[3]),16&t&&p(A,n[4]),2080&t){let e;for(M=n[5],e=0;e<M.length;e+=1){const o=ln(n,M,e);N[e]?N[e].p(o,t):(N[e]=an(o),N[e].c(),N[e].m(L.parentNode,L))}for(;e<N.length;e+=1)N[e].d(1);N.length=M.length}},i:n,o:n,d(n){n&&f(e),n&&f(i),n&&f(h),n&&f(g),n&&f(y),n&&f(v),n&&f(w),n&&f(b),n&&f(x),n&&f(j),n&&f(T),n&&f(E),n&&f(C),n&&f(_),n&&f(I),n&&f(S),function(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}(N,n),n&&f(L),q=!1,o(D)}}}function dn(n,t,e){let o="Load api",i="Check login",r="log in",c="Upload me",u="list all files",f=[];function l(){on().then(n=>{e(5,f=n.result.files),e(4,u=f.length+" file(s) shown below"),f.forEach(n=>{un(n.id).then(t=>{n.content=t.body,e(5,f)})})})}function a(n){fn(n).then(()=>{console.log("file deleted"),l()})}return[o,i,r,c,u,f,function(){nn("1004447507607-hc0eguhn4cnupcdmpptutifvi1g6g5pn.apps.googleusercontent.com",[],"https://www.googleapis.com/auth/drive.appdata").then(()=>{e(0,o="Success!")})},function(){en()?(e(1,i="You are logged in"),e(2,r="Success!")):e(1,i="not logged in")},function(){tn().then(()=>{e(2,r="Success!")})},function(){e(3,c="Creating file..."),rn("test-file.json").then(n=>{let t=n.result.id;e(3,c="Created file with id "+t),cn(t,"Test-Content")})},l,a,n=>a(n.id)]}return new class extends class{$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=n}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}{constructor(n){super(),A(this,n,dn,sn,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
